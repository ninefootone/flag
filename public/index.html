<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Whistle</title>
    <link rel="stylesheet" href="/style.css?v=0.2.60">
    <link rel="stylesheet" href="/style-dark.css?v=0.2.60">
    <link rel="manifest" href="/assets/manifest.webmanifest?v=0.2.60" />
    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Whistle">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
    <div class="app-container">
        <div id="game-lobby">
            <!-- <img src="/assets/sheffield-giants-logo.png" class="giants-logo"/> -->
            <div class="lobby-logo">
                <img src="/assets/whistle-logo-home-blue.svg" alt="Whistle" class="logo-swap light-logo logo-image">
                <img src="/assets/whistle-logo-home-white.svg" alt="Whistle" class="logo-swap dark-logo logo-image" style="display:none;">
            </div>
            <!-- <div class="text-intro">
                <h2>Referee.</h2>
                <h2>Score.</h2>
                <h2>Clock.</h2>
                <h2>Coach.</h2>
            </div> -->
            <button id="start-new-game-btn">New Game</button>
            <h3 class="feedback-link">
                <a href="https://thinkable-taleggio-7b0.notion.site/2972da6bdc3b8057bcddc1fb56a26be4?pvs=105" target="_blank">Tell us what you think...</a>
            </h3>
            <div>
                <p class="version-notes">Refresh the page to ensure you have the latest version.</p>
                <p class="version">v3.0.6.1</p>
            </div>
            <div class="join-game-section">
                <hr>
                <h2>Or join an existing game:</h2>
                <input type="text" id="game-id-input" placeholder="Enter Game ID">
            </div>
            <div class="role-selection">
                <h3>Select Your Role</h3>
                <div class="role-selection-wrapper">
                    <input type="radio" id="role-administrator" name="user-role" value="administrator" checked>
                    <label for="role-administrator">Game Administrator</label>

                    <input type="radio" id="role-head-referee" name="user-role" value="head-referee">
                    <label for="role-head-referee">Head Referee</label>

                    <input type="radio" id="role-scorer" name="user-role" value="scorer">
                    <label for="role-scorer">Scorer</label>

                    <input type="radio" id="role-clock" name="user-role" value="clock">
                    <label for="role-clock">Clock</label>

                    <input type="radio" id="role-coach" name="user-role" value="coach">
                    <label for="role-coach">Coach</label>
                </div>
            </div>
            <button id="join-game-btn" class="main-btn">Join Game</button>
            <p id="join-error-message" class="hidden error-message">Please enter a valid Game ID.</p>
        </div>

        <div id="settings-form" class="hidden">
            <form id="settings-form-element">
                <input type="date" id="date-field" hidden>

                <input type="text" id="location-field" placeholder="Location">

                <div class="team-input-wrapper">
                    <input type="text" id="team1-name" placeholder="Home Team" autocomplete="off">
                    <ul id="team1-options" class="team-options-list hidden"></ul>
                </div>

                <div class="team-input-wrapper">
                    <input type="text" id="team2-name" placeholder="Away Team" autocomplete="off">
                    <ul id="team2-options" class="team-options-list hidden"></ul>
                </div>

                <datalist id="team-names-datalist"></datalist>

                <div class="settings-grid">
                    <div class="one-third one">
                        <label for="half-duration">Half</label>
                        <input type="number" id="half-duration" value="15" min="1" inputmode="numeric">
                        <div class="settings-notes">minutes</div>
                    </div>
                    <div class="one-third two">
                        <label for="play-clock-duration">Play Clock</label>
                        <input type="number" id="play-clock-duration" value="25" min="5" inputmode="numeric">
                        <div class="settings-notes">seconds</div>
                    </div>
                    <div class="one-third three">
                        <label for="timeouts-per-half">Timeouts</label>
                        <input type="number" id="timeouts-per-half" value="2" min="0" inputmode="numeric">
                        <div class="settings-notes">per half</div>
                    </div>
                </div>

                <div class="coin-toss-section">
                    <div class="coin-toss-buttons">
                        <button type="button" id="coin-toss-btn" class="secondary-button animated-toss-btn">
                            <div id="lobby-coin-animation" class="coin-toss-gif-container"></div>
                        </button>
                        <button type="button" id="start-game-btn">Start Game</button>
                    </div>
                    <!-- <p id="coin-toss-result"></p> -->
                </div>

                <div id="current-game-id" class="hidden">
                    <strong>Game ID:</strong> <span id="game-id-text"></span>
                    </div>

            </form>

        </div>

        <div id="coin-toss-modal" class="modal hidden">
            <div class="modal-content coin-toss-content">
                <!-- <h2>Coin Toss</h2> -->
        
                <div id="coin-animation-area" class="coin-animation-area">
                </div>
                
                <div id="coin-toss-result-area" class="coin-toss-result-area hidden">
                    <!-- <p class="result-text-label">Toss Result:</p> -->
                    <p id="toss-result-message" class="toss-result-message">---</p>
                </div>

                <div class="button-row toss-control-buttons">
                    <button id="toss-rerun-btn" class="secondary-button hidden">Redo Toss</button>

                    <button id="toss-start-game-btn" class="primary-button hidden">
                        <span class="button-text">Start Game</span>
                    </button>
            
                </div>
        
                    <button id="close-coin-toss-modal-btn" class="main-btn close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
            </div>
        </div>
        
        <div id="game-interface" class="hidden">
            <header>
                <h1 class="game-info">
                    <span id="game-date"></span><span id="game-location"></span>
                </h1>
            </header>

        <div class="clock-container">
            <section class="game-clocks-section">
                <div class="clock-display game-clock-bg">
                     <p class="title">Game Clock</p>
                     <span id="game-clock-display" class="clock-time"></span>
                    <div class="clock-controls">
                        <button id="game-clock-toggle" class="clock-btn start-stop-btn">Start</button>
                        <button id="game-clock-reset" class="clock-btn reset-btn">Reset</button>
                    </div>
                </div>
            </section>

            <section class="play-clock-section">
                <div class="clock-display play-clock-bg">
                    <p class="title">Play Clock</p>
                    <span id="play-clock-display" class="clock-time"></span>
                    <div class="play-clock-controls">
                        <button id="play-clock-toggle" class="clock-btn start-stop-btn">Start</button>
                        <button id="play-clock-reset" class="clock-btn reset-btn">Reset</button>
                    </div>
                </div>
            </section>
        </div>

            <section class="down-buttons-section">
                <div class="down-buttons-section-wrapper">
                <p class="title">Down</p>
                <div class="down-buttons">
                    <button class="down-btn" data-down="1">1st</button>
                    <button class="down-btn" data-down="2">2nd</button>
                    <button class="down-btn" data-down="3">3rd</button>
                    <button class="down-btn" data-down="4">4th</button>
                </div>
                <div class="play-clock-options">
                    <label for="auto-advance-play-clock">
                        <input type="checkbox" id="auto-advance-play-clock"> Auto Advance
                    </label>
                </div>
            </section>

        <!-- <button id="penalty-lookup-btn" class="main-btn" style="margin: 10px auto; display: block; width: 80%; max-width: 400px; font-size: 1.1em;">
            ðŸ“‹ Penalty Lookup
        </button> -->

        <div class="scoreboard-container">
            <section class="home-team-scoreboard-section">
                <div class="team-score">
                    <span id="team1-name-display" class="team-name"></span>
                    <div class="score-container">
                        <button class="adjust-btn" data-team="1" data-adjust="-">-</button>
                        <span id="team1-score-display" class="score"></span>
                        <button class="adjust-btn" data-team="1" data-adjust="+">+</button>
                    </div>
                    <div class="score-buttons">
                        <button class="score-btn" data-team="1" data-score="6" data-label="Touchdown">
                            <span class="button-label">TD</span>
                            <span class="button-score">(6)</span>
                        </button>
                        <button class="score-btn" data-team="1" data-score="1" data-label="PAT">
                            <span class="button-label">1XP</span>
                            <span class="button-score">(1)</span>
                        </button>
                        <button class="score-btn" data-team="1" data-score="2" data-label="2PT">
                            <span class="button-label">2XP</span>
                            <span class="button-score">(2)</span>
                        </button>
                        <button class="score-btn" data-team="1" data-score="2" data-label="Safety">
                            <span class="button-label">Safety</span>
                            <span class="button-score">(2)</span>
                        </button>
                    </div>
                    <div class="defence-buttons">
                        <button class="defence-stats-btn" data-team="1">
                            <span class="button-label">+ Defensive Stat</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="away-team-scoreboard-section">
                <div class="team-score">
                    <span id="team2-name-display" class="team-name"></span>
                    <div class="score-container">
                        <button class="adjust-btn" data-team="2" data-adjust="-">-</button>
                        <span id="team2-score-display" class="score"></span>
                        <button class="adjust-btn" data-team="2" data-adjust="+">+</button>
                    </div>
                    <div class="score-buttons">
                        <button class="score-btn" data-team="2" data-score="6" data-label="Touchdown">
                            <span class="button-label">TD</span>
                            <span class="button-score">(6)</span>
                        </button>
                        <button class="score-btn" data-team="2" data-score="1" data-label="PAT">
                            <span class="button-label">1XP</span>
                            <span class="button-score">(1)</span>
                        </button>
                        <button class="score-btn" data-team="2" data-score="2" data-label="2PT">
                            <span class="button-label">2XP</span>
                            <span class="button-score">(2)</span>
                        </button>
                        <button class="score-btn" data-team="2" data-score="2" data-label="Safety">
                            <span class="button-label">Safety</span>
                            <span class="button-score">(2)</span>
                        </button>
                    </div>
                    <div class="defence-buttons">
                        <button class="defence-stats-btn" data-team="2">
                            <span class="button-label">+ Defensive Stat</span>
                        </button>
                    </div>
                </div>
            </section>
        </div>

            <section class="timeout-buttons-section">
                <div class="timeout-buttons-section-wrapper">
                <p class="title">Timeouts</p>
                <div class="timeout-buttons">
                    <div class="timeout-button-wrapper">
                        <span class="timeout-label" id="team1-timeout-label"></span>
                        <button class="use-timeout-btn" data-team="1">
                            <span class="timeout-count" id="team1-timeouts"></span>
                        </button>
                    </div>
                    <div class="timeout-button-wrapper">
                        <span class="timeout-label" id="team2-timeout-label"></span>
                        <button class="use-timeout-btn" data-team="2">
                            <span class="timeout-count" id="team2-timeouts"></span>
                        </button>
                    </div>
                </div>
                </div>
            </section>

            <section class="score-log">
                <div class="log-container">
                    <h3 class="log-title">Game Log</h3>
                    <ul id="score-log"></ul>
                    <h4 class="log-title">Defence</h4>
                    <ul id="defence-log"></ul>
                    <h4 class="log-title">Timeouts</h4>
                    <ul id="timeout-log"></ul>
                </div>
            </section>

            <!-- <div class="action-buttons">
                <button id="undo-btn" class="undo-btn">Undo Last Action</button>
                <button id="end-game-btn" class="end-game-btn">End Game</button>
            </div> -->

            <!-- <section class="share-links-section">
                <h3>Share Links</h3>
                    <div class="share-links-grid">
                        <button class="share-link-btn" data-role="head-referee">Head Ref</button>
                        <button class="share-link-btn" data-role="scorer">Scorer</button>
                        <button class="share-link-btn" data-role="clock">Clock</button>
                        <button class="share-link-btn" data-role="coach">Coach</button>
                    </div>
                <p id="share-feedback" class="hidden">Link copied!</p>
            </section> -->

        </div>

        <div id="penalty-lookup-modal" class="hidden modal-overlay">
            <div class="penalty-finder-container">
                <h2>Penalties</h2>
                <input type="text" id="penalty-search" placeholder="Search Penalty Name, Yardage, or Keyword..." class="search-input" tabindex="-1">
                
                <div class="penalties-table-wrapper">
                    <div id="penalties-list" class="penalties-list">
                        <p id="no-results" style="display: none; text-align: center; margin-top: 20px;">No penalties match your search.</p>
                    </div>
                    <button id="close-penalty-modal-btn" class="main-btn close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <div id="info-modal" class="modal">
            <div class="info-modal-content">
                <div class="modal-body">
                    <div id="info-modal-img">
                        <img src="/assets/whistle-logo-home-blue.svg" alt="Whistle" class="logo-swap light-logo logo-image">
                        <img src="/assets/whistle-logo-home-white.svg" alt="Whistle" class="logo-swap dark-logo logo-image" style="display:none;">
                    </div>    
                    <div id="info-modal-admin">
                        <h3>Setup</h3>
                        <p>On the game settings screen enter the location and team names. You can choose from the drop-down or type in a custom team name. These are optional. You can just click 'Start Game' for a quick start (teams will be title Team 1 and Team 2).</p>
                        <p>You can set minutes per half, the play clock time (in seconds), and the number of timeouts per half.</p>
                        <p>Click the button if you need a coin toss and then click 'Start Game'.</p>
                        <h3>Game Play</h3>
                        <p><strong>Game Clock:</strong> Start and stop as needed. Resetting will reset the number of timeouts for the second half.</p>
                        <p><strong>Play Clock:</strong> With 'Auto Advance' selected, starting the play clock will advance the downs.</p>
                        <p><strong>Downs:</strong> The down can be manually advanced by clicking the numbers.</p>
                        <p><strong>Scoring:</strong> Click the buttons to add specific scores or use + and - to manually alter the score. When clicking a button you'll be able to enter the players numbers to fill out the score log.</p>
                        <p><strong>Defensive Stats:</strong> Click the button to add a player number in the right field to log a defensive stat.</p>
                        <p><strong>Timeouts:</strong> Click the blue circles to take a timeout. This will automatically pause the game clock.</p>
                        <h3>Other actions</h3>
                        <p><strong>Undo:</strong> This button will undo a timeout or score.</p>
                        <p><strong>Penalties:</strong> This will bring up a searchable list of penalties with description, yards lost etc.</p>
                        <p><strong>End Game:</strong> You'll get a confirmation pop-up just in case!</p>
                        <h3>Share</h3>
                        <p>You can share a link, via a QR code, with a head ref, scorer, clock manager and coach.</p>
                        <p><strong>Head Ref:</strong> can manage the clocks, downs and timeouts but not the score.</p>
                        <p><strong>Scorer:</strong> can only manage the scores.</p>
                        <p><strong>Clock:</strong> can manage game clocks and downs.</p>
                        <p><strong>Coach/Viewer:</strong> can only view.</p>
                    </div>
                    <div id="info-modal-ref">
                        <p>As a head referee you can manage the clocks, downs and timeouts but not the score.</p>
                        <h3>Game Play</h3>
                        <p><strong>Game Clock:</strong> Start and stop as needed. Resetting will reset the number of timeouts for the second half.</p>
                        <p><strong>Play Clock:</strong> With 'Auto Advance' selected, starting the play clock will advance the downs.</p>
                        <p><strong>Downs:</strong> The down can be manually advanced by clicking the numbers.</p>
                        <p><strong>Timeouts:</strong> Click the blue circles to take a timeout. This will automatically pause the game clock.</p>
                        <h3>Other actions</h3>
                        <p><strong>Undo:</strong> This button will undo a timeout if clicked in error.</p>
                        <p><strong>Penalties:</strong> This will bring up a searchable list of penalties with description, yards lost etc.</p>
                        <p><strong>End Game:</strong> You'll get a confirmation pop-up just in case!</p>
                        <p class="info-link">If you want manage your own game visit <a href="/?utm_source=referee_screen&utm_medium=internal_nav&utm_campaign=main_home_link" 
    target="_blank" rel="noopener noreferrer">whistle-app.co.uk</a></p>
                    </div>
                    <div id="info-modal-scorer">
                        <p>As a scorer you can manage the scores everything else is read only.</p>
                        <h3>Game Play</h3>
                        <p><strong>Scoring:</strong> Click the buttons to add specific scores or use + and - to manually alter the score. When clicking a button you'll be able to enter the players numbers to fill out the score log.</p>
                        <p><strong>Defensive Stats:</strong> Click the button to add a player number in the right field to log a defensive stat.</p>
                        <h3>Other actions</h3>
                        <p><strong>Undo:</strong> This button will undo a score added in error.</p>
                        <p><strong>Penalties:</strong> This will bring up a searchable list of penalties with description, yards lost etc.</p>
                        <p class="info-link">If you want manage your own game visit <a href="/?utm_source=scorer_screen&utm_medium=internal_nav&utm_campaign=main_home_link" 
    target="_blank" rel="noopener noreferrer">whistle-app.co.uk</a></p>
                    </div>
                    <div id="info-modal-clock">
                        <p>As a clock manager you can manage game clocks and downs.</p>
                        <h3>Game Play</h3>
                        <p><strong>Game Clock:</strong> Start and stop as needed. Resetting will reset the number of timeouts for the second half.</p>
                        <p><strong>Play Clock:</strong> With 'Auto Advance' selected, starting the play clock will advance the downs.</p>
                        <p><strong>Downs:</strong> The down can be manually advanced by clicking the numbers.</p>
                        <h3>Other actions</h3>
                        <p><strong>Penalties:</strong> This will bring up a searchable list of penalties with description, yards lost etc.</p>
                        <p class="info-link">If you want manage your own game visit <a href="/?utm_source=clock_screen&utm_medium=internal_nav&utm_campaign=main_home_link" 
    target="_blank" rel="noopener noreferrer">whistle-app.co.uk</a></p>
                    </div>
                    <div id="info-modal-coach">
                        <p>As a coach/viewer you can simply view the clock, score, timeouts remaining etc.</p>
                        <p class="info-link">If you want manage your own game visit <a href="/?utm_source=viewer_screen&utm_medium=internal_nav&utm_campaign=main_home_link" 
    target="_blank" rel="noopener noreferrer">whistle-app.co.uk</a></p>
                    </div>
                </div>
                <button id="close-info-modal-btn" class="main-btn close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div id="share-modal" class="modal">
            <div class="share-modal-content">
                    <h2>Share</h2>
                        <p>Click a button to share with game managers/viewers.</p>
                        <div class="share-links-grid">
                            <button class="share-link-btn" data-role="head-referee">Head Ref</button>
                            <button class="share-link-btn" data-role="scorer">Scorer</button>
                            <button class="share-link-btn" data-role="clock">Clock</button>
                            <button class="share-link-btn" data-role="coach">Coach/Viewer</button>
                        </div>

                    <div id="qr-code-container">
                    </div>

                    <p id="share-feedback" class="hidden">Link copied!</p>

                    <div id="share-notes">
                        <p><strong>Head Ref:</strong> can manage the clocks, downs and timeouts but not the score.</p>
                        <p><strong>Scorer:</strong> can only manage the scores.</p>
                        <p><strong>Clock:</strong> can manage game clocks and downs.</p>
                        <p><strong>Coach/Viewer:</strong> can only view.</p>
                    </div>
                        <button id="close-share-modal-btn" class="main-btn close-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
            </div>
        </div>

        <div id="score-popup" class="hidden">
            <div class="popup-content">
                <h2 id="popup-header">Log Score Details</h2>
                <p class="score-popup-notes">Just click 'Log Score' to quickly add a score or enter player number(s) for a full log.</p>
                <div class="player-input-grid">
                    <div>
                        <!-- <label for="qb-number">QB #</label> -->
                        <input type="number" id="qb-number" placeholder="QB#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="wr-number">WR #</label> -->
                        <input type="number" id="wr-number" placeholder="WR#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="rb-number">RB #</label> -->
                        <input type="number" id="rb-number" placeholder="RB#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="int-number">INT #</label> -->
                        <input type="number" id="int-number" placeholder="INT#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="safety-number">Safety #</label> -->
                        <input type="number" id="safety-number" placeholder="Safety#" inputmode="numeric">
                    </div>
                </div>
                <div class="popup-buttons">
                    <button id="log-score-btn" class="log-score-btn">Log Score</button>
                </div>
                <button id="cancel-popup-btn" class="main-btn close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div id="defence-popup" class="hidden">
            <div class="defence-popup-content">
                <h2 id="defence-popup-header">Log Score Details</h2>
                <p class="score-popup-notes">Enter player number to log a defensive play.</p>
                <div class="defence-input-grid">
                    <div>
                        <!-- <label for="defence-tackle">Tackle</label> -->
                        <input type="number" id="defence-tackle" placeholder="Tackle#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="defence-tfl">Tackle for Loss</label> -->
                        <input type="number" id="defence-tfl" placeholder="TFL#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="defence-sack">Sack</label> -->
                        <input type="number" id="defence-sack" placeholder="Sack#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="defence-int">Interception</label> -->
                        <input type="number" id="defence-int" placeholder="Int#" inputmode="numeric">
                    </div>
                    <div>
                        <!-- <label for="defence-pbu">Pass Breakup</label> -->
                        <input type="number" id="defence-pbu" placeholder="PBU#" inputmode="numeric">
                    </div>                    
                </div>
                <div class="popup-buttons">
                    <button id="log-defence-stat-btn" class="log-defence-stat-btn">Log Defensive Stat</button>
                </div>
                <button id="defence-cancel-popup-btn" class="main-btn close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div id="game-summary" class="hidden">
            <img src="/assets/whistle-logo-home-blue.svg" alt="Whistle" class="logo-swap light-logo logo-image-summary">
            <img src="/assets/whistle-logo-home-white.svg" alt="Whistle" class="logo-swap dark-logo logo-image-summary" style="display:none;">
            <h2>Game Summary</h2>
            <div class="summary-scoreboard">
                <div class="summary-team">
                    <span id="summary-team1-name" class="summary-team-name"></span>
                    <span id="summary-team1-score" class="summary-score"></span>
                </div>
                <div class="summary-team">
                    <span id="summary-team2-name" class="summary-team-name"></span>
                    <span id="summary-team2-score" class="summary-score"></span>
                </div>
            </div>

            <button id="download-summary-btn" class="main-btn">
                <svg class="button-icon download-icon" viewBox="0 0 16 16">
                    <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a0.5 0.5 0 0 1 0 -1h2.688C13.979 10 15 8.988 15 7.773c0 -1.216 -1.02 -2.228 -2.313 -2.228h-0.5v-0.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0 -2.941 1.1c-0.757 0.652 -1.153 1.438 -1.153 2.055v0.448l-0.445 0.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a0.5 0.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0 -1.763 1.266 -3.223 2.942 -3.593 0.143 -0.863 0.698 -1.723 1.464 -2.383" stroke-width="1"></path>
                    <path d="M7.646 15.854a0.5 0.5 0 0 0 0.708 0l3 -3a0.5 0.5 0 0 0 -0.708 -0.708L8.5 14.293V5.5a0.5 0.5 0 0 0 -1 0v8.793l-2.146 -2.147a0.5 0.5 0 0 0 -0.708 0.708z" stroke-width="1"></path>
                </svg>
                <span>Game Summary</span>
            </button>

            <button id="start-new-game-from-summary-btn" class="main-btn">Start a New Game</button>

            <div class="summary-logs">
                <div class="log-container">
                    <h3 class="log-title">Game Log</h3>
                    <ul id="summary-score-log"></ul>
                    <h4 class="log-title">Defence</h4>
                    <ul id="summary-defence-log"></ul>
                    <h4 class="log-title">Timeouts</h4>
                    <ul id="summary-timeout-log"></ul>
                </div>
            </div>
            
        </div>
    </div>

        <div id="fixed-footer-links-container">
            <div class="fixed-footer-links">
                <button id="undo-btn">
                    <svg class="button-icon" viewBox="0 0 24 24">
                        <path d="m5.25 21.747 -4.5 -4.5 4.5 -4.5" ></path>
                        <path d="M0.75 17.247h15a7.5 7.5 0 0 0 0 -15h-6" ></path>
                    </svg>
                    <span class="button-text">Undo</span>
                </button>
                <button id="info-btn">
                    <svg class="button-icon" viewBox="0 0 24 24">
                        <path d="M11.9413 17.3205v-6.1278c0 -0.2322 -0.0922 -0.4549 -0.2564 -0.619 -0.1642 -0.1642 -0.3868 -0.2564 -0.619 -0.2564h-0.8754"></path>
                        <path d="M11.5036 7.72892c-0.2418 0 -0.4377 -0.19597 -0.4377 -0.4377 0 -0.24174 0.1959 -0.4377 0.4377 -0.4377"></path>
                        <path d="M11.5036 7.72892c0.2418 0 0.4377 -0.19597 0.4377 -0.4377 0 -0.24174 -0.1959 -0.4377 -0.4377 -0.4377"></path>
                        <path d="M12 23.2284c6.2013 0 11.2284 -5.0271 11.2284 -11.2284C23.2284 5.79873 18.2013 0.771606 12 0.771606 5.79873 0.771606 0.771606 5.79873 0.771606 12 0.771606 18.2013 5.79873 23.2284 12 23.2284Z"></path>
                        <path d="M10.1905 17.3204h3.619"></path>
                    </svg>
                    <span class="button-text">Info.</span>
                </button>
                <button id="share-links-btn">
                    <svg class="button-icon" viewBox="0 0 24 24">
                        <path d="M17.25 8.25h1.5a1.5 1.5 0 0 1 1.5 1.5v12a1.5 1.5 0 0 1 -1.5 1.5H5.25a1.5 1.5 0 0 1 -1.5 -1.5v-12a1.5 1.5 0 0 1 1.5 -1.5h1.5" ></path>
                        <path d="m12 0.75 0 10.5" ></path>
                        <path d="M8.25 4.5 12 0.75l3.75 3.75" ></path>
                    </svg>
                    <span class="button-text">Share</span>
                </button>
                <button id="penalty-lookup-btn">
                    <svg class="button-icon" viewBox="0 0 24 24">
                        <path d="m0.75 23.25 0 -22.5" ></path>
                        <path d="m0.75 17.708 3.154 -0.97a9.61 9.61 0 0 1 7.864 1 9.615 9.615 0 0 0 7.679 1.062l2.987 -0.854a1.125 1.125 0 0 0 0.816 -1.082V5.137a1.126 1.126 0 0 0 -1.434 -1.082l-2.369 0.677a9.615 9.615 0 0 1 -7.679 -1.056 9.61 9.61 0 0 0 -7.864 -1L0.75 3.645" ></path>
                    </svg>
                    <span class="button-text">Penalties</span>
                </button>
                <button id="end-game-btn">
                    <svg class="button-icon" viewBox="0 0 24 24">
                        <path d="M5.25 3.75h13.5s1.5 0 1.5 1.5v13.5s0 1.5 -1.5 1.5H5.25s-1.5 0 -1.5 -1.5V5.25s0 -1.5 1.5 -1.5" ></path>
                    </svg>
                    <span class="button-text">End Game</span>
                </button>
            </div>
        </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script src="/script.js?v=0.2.60"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script src="/penalties.js"></script>

<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/service-worker.js')
                .then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                })
                .catch(err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
        });
    }
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PVR11D6EB1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PVR11D6EB1');
</script>

    </body>
</html>